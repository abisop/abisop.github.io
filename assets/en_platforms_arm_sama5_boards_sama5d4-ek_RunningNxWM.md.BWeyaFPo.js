import{_ as t,c as a,al as o,o as i}from"./chunks/framework.NFAqBSgQ.js";const p=JSON.parse('{"title":"Prerequisites:","description":"","frontmatter":{},"headers":[],"relativePath":"en/platforms/arm/sama5/boards/sama5d4-ek/RunningNxWM.md","filePath":"en/platforms/arm/sama5/boards/sama5d4-ek/RunningNxWM.md"}'),r={name:"en/platforms/arm/sama5/boards/sama5d4-ek/RunningNxWM.md"};function l(n,e,s,h,u,d){return i(),a("div",null,e[0]||(e[0]=[o('<p>Simplified instructions for Running the NxWM Demo:</p><h1 id="prerequisites" tabindex="-1">Prerequisites: <a class="header-anchor" href="#prerequisites" aria-label="Permalink to &quot;Prerequisites:&quot;">​</a></h1><ol><li>SAMA5D4-MB Rev. C board and power supply</li><li>TM7000 LCD panel</li><li>RS-232 NUL modem cable</li><li>Ethernet cross-over cable</li><li>USB &quot;Boot&quot; Keyboard</li><li>One each of a microSD card and a full size SD card. These should be older style SD or SDHC cards. Some of the newest very high capacity cards will not work.</li><li>The file dramboot.bin which is the NuttX boot program. It runs from SRAM and will load the NuttX HEX binary from serial into DRAM.</li><li>The NuttX HEX binary, nuttx.hex.</li></ol><h1 id="references" tabindex="-1">References: <a class="header-anchor" href="#references" aria-label="Permalink to &quot;References:&quot;">​</a></h1><p>See the README.txt for much more detailed, technical information.</p><h1 id="setup" tabindex="-1">Setup: <a class="header-anchor" href="#setup" aria-label="Permalink to &quot;Setup:&quot;">​</a></h1><ol><li><p>Make sure that the you a terminal like TeraTerm connected to the DB-9 and configured to work at 11520 8N1.</p></li><li><p>You should also connect a USB keyboard and the TM7000 LCD to the SAMA5D4-MB Rev C. Note only USB &quot;Boot&quot; keyboards are supported.</p></li><li><p>The binary has networking enabled. The network is configured to work in my test environment so it does not use DHCP, rather the board uses the fixed IP address of 10.0.0.2. It expects the host PC to have the address 10.0.0.1.</p><p>For testing, usually use a PC with two networks (one configured at 115200 8N1) and an Ethernet crossover cable.</p></li><li><p>A full size SD card with some sample .WAV files may be inserted in HSMCI0 slot. These files will be accessed by the Media Player demo.</p></li></ol><p>If you do not connect a network to the board, the consequence will be an extremely slow start up time. Ideally, network bring-up should occur on a separate thread so that it does not interfere with the main application. If you have the network connected, the start up will be quick. If there is no network connected, it could take a long time to start (perhaps a minute?). The delay is the time before the Ethernet driver decides to fail the attempt to negotiate the link speed.</p><h1 id="starting-the-demo" tabindex="-1">Starting the Demo: <a class="header-anchor" href="#starting-the-demo" aria-label="Permalink to &quot;Starting the Demo:&quot;">​</a></h1><ol><li><p>Copy dramboot.bin to a microSD card as boot.bin</p></li><li><p>Inserted the microSD card in the HSMCI1 slot.</p></li><li><p>Power cycle the board, you should see:</p><p>RomBOOT Send Intel HEX file now</p></li><li><p>Send the NuttX file from the terminal. If you use TeraTerm, this is in the &quot;Files&quot; menu as &quot;Send file ...&quot;</p></li><li><p>When the file download completes, NuttX will start.</p></li></ol><h1 id="running-the-demo" tabindex="-1">Running the Demo: <a class="header-anchor" href="#running-the-demo" aria-label="Permalink to &quot;Running the Demo:&quot;">​</a></h1><p>When NuttX first starts, you will need to perform a touchscreen calibration:</p><ol><li><p>Touch the circular when you see the &quot;Touch&quot; or &quot;Again&quot; messages.</p></li><li><p>Release the touch when you see the &quot;OK&quot; message.</p></li></ol><p>There are four points to be touched and the software will expect you to touch each position twice.</p><p>There is a NuttX configuration option that will allow you to save this calibration file to FLASH or a file, but that option is not enabled in this configuration. As you result, you have to do this calibration on each boot.</p><p>After that the Demo will start. The opening screen will show a taskbar and tray to the left and the background with the NuttX logo.</p><p>Touching the triangle button in the taskbar will bring up the Start Window. The start window holds icons for each installed application. For this demo the following icons will be visible:</p><ol><li><p>Scales: This will perform touchscreen calibration again.</p></li><li><p>NxTerm. This is will bring up a graphics terminal running the NuttShell (NSH). You interact with NSH using the attached USB keyboard.</p></li><li><p>Calculator. A simple HEX calculator</p></li><li><p>Media Player. This brings up the media player GUI. There is a list box that shows all of the .WAV fails from the SD card that are available. Touching the file name selects it. There are also controls to play, pause, fast forward, rewind, and adjust the volume.</p><p>Unfortunately in this version, the WM8904 audio CODEC is stubbed out so you will not actually be able to heard any of the .WAV files that you</p></li></ol><h1 id="telnet-access" tabindex="-1">Telnet access: <a class="header-anchor" href="#telnet-access" aria-label="Permalink to &quot;Telnet access:&quot;">​</a></h1><p>For better access to NSH, you can also Telnet to the target at address 10.0.0.2</p>',20)]))}const m=t(r,[["render",l]]);export{p as __pageData,m as default};
