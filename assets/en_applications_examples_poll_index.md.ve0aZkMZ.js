import{_ as o,c as t,al as l,o as a}from"./chunks/framework.NFAqBSgQ.js";const _=JSON.parse('{"title":"poll Poll example","description":"","frontmatter":{},"headers":[],"relativePath":"en/applications/examples/poll/index.md","filePath":"en/applications/examples/poll/index.md"}'),i={name:"en/applications/examples/poll/index.md"};function s(d,e,n,r,c,p){return a(),t("div",null,e[0]||(e[0]=[l(`<h1 id="poll-poll-example" tabindex="-1"><code>poll</code> Poll example <a class="header-anchor" href="#poll-poll-example" aria-label="Permalink to &quot;\`poll\` Poll example&quot;">​</a></h1><p>A test of the <code>poll()</code> and <code>select()</code> APIs using FIFOs and, if available, <code>stdin</code>, and a TCP/IP socket. In order to use the TCP/IP select test, you must have the following things selected in your NuttX configuration file:</p><ul><li><code>CONFIG_NET</code> – Defined for general network support.</li><li><code>CONFIG_NET_TCP</code> – Defined for TCP/IP support.</li><li><code>CONFIG_NET_NTCP_READAHEAD_BUFFERS</code> – Defined to be greater than zero.</li><li><code>CONFIG_EXAMPLES_POLL_NOMAC</code> – (May be defined to use software assigned MAC)</li><li><code>CONFIG_EXAMPLES_POLL_IPADDR</code> – Target IP address.</li><li><code>CONFIG_EXAMPLES_POLL_DRIPADDR</code> – Default router IP address.</li><li><code>CONFIG_EXAMPLES_POLL_NETMASK</code> – Network mask.</li></ul><p>In order to for select to work with incoming connections, you must also select:</p><ul><li><code>CONFIG_NET_TCPBACKLOG</code> – Incoming connections pend in a backlog until <code>accept()</code> is called.</li></ul><p>In additional to the target device-side example, there is also a host-side application in this directory. It can be compiled under Linux or Cygwin as follows:</p><pre><code>cd examples/usbserial
make -f Makefile.host TOPDIR=&lt;nuttx-directory&gt; TARGETIP=&lt;target-ip&gt;
</code></pre><p>Where <code>&lt;target-ip&gt;</code> is the IP address of your target board.</p><p>This will generate a small program called &#39;host&#39;. Usage:</p><ol><li><p>Build the <code>examples/poll</code> target program with TCP/IP poll support and start the target.</p></li><li><p>Then start the host application:</p><pre><code>./host
</code></pre></li></ol><p>The host and target will exchange are variety of small messages. Each message sent from the host should cause the select to return in target. The target example should read the small message and send it back to the host. The host should then receive the echo&#39;ed message.</p><p>If networking is enabled, applications using this example will need to provide the following definition in the <code>defconfig</code> file to enable the networking library:</p><ul><li><code>CONFIG_NETUTILS_NETLIB=y</code></li></ul>`,13)]))}const u=o(i,[["render",s]]);export{_ as __pageData,u as default};
