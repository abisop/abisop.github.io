import{_ as t,c as a,al as i,o}from"./chunks/framework.NFAqBSgQ.js";const w=JSON.parse('{"title":"watcher Watcher & Watched","description":"","frontmatter":{},"headers":[],"relativePath":"en/applications/examples/watcher/index.md","filePath":"en/applications/examples/watcher/index.md"}'),c={name:"en/applications/examples/watcher/index.md"};function h(d,e,s,l,r,n){return o(),a("div",null,e[0]||(e[0]=[i('<h1 id="watcher-watcher-watched" tabindex="-1"><code>watcher</code> Watcher &amp; Watched <a class="header-anchor" href="#watcher-watcher-watched" aria-label="Permalink to &quot;`watcher` Watcher &amp; Watched&quot;">​</a></h1><p>The watcher and watched examples are designed to work together. The watched example will only appear after watcher is selected. The watcher is a task that will monitor other tasks that subscribe to be watched. If a watched task doesn&#39;t signal the watcher during the watchdog time period, the watchdog timer will expire and the watcher will print the tasks that did not signal and the ones that signaled. The tasks that did not signal will be printed as the tasks that starved the dog and the tasks that signaled will be printed as the tasks that fed the dog. The watcher task will only feed the watchdog timer when all subscribed tasks have asked to feed dog.</p><p>To start the watcher, just run:</p><p><code>watcher</code></p><p>The watched example is not required to use the watcher. The watched example is simply a task that creates 4 tasks that will subscribe to be watched. The first and fourth will not feed the dog to expose the functionality. This example will show the user how to subscribe, to feed the dog and to unsubscribe.</p><p>To start the watched, just run:</p><p><code>watched</code></p><p>P.S: This example will only be supported by the chips that support interrupt on timeout, i.e., which have the &quot;capture&quot; command implemented.</p><p>This test depends on these specific configurations settings (your specific watchdog hardware settings might require additional settings).</p><ul><li><code>CONFIG_EXAMPLES_WATCHER</code> – Includes this example.</li><li><code>CONFIG_WATCHDOG</code> – Enables watchdog timer support.</li><li><code>CONFIG_NSH_BUILTIN_APPS</code> – Build this example an NSH built-in function.</li><li><code>CONFIG_DRIVERS_NOTE</code> and <code>CONFIG_SCHED_INSTRUMENTATION</code> – Allows the watcher to get the tasks&#39; names.</li><li><code>CONFIG_FS_FAT</code> – Allows the creation of a FAT filesystem on the ramdisk to create a file with all the necessary info for the watched tasks.</li></ul><p>Specific configuration options for the <code>watcher</code> example include:</p><ul><li><code>CONFIG_EXAMPLES_WATCHER_PRIORITY</code> – Watcher Task Priority.</li><li><code>CONFIG_EXAMPLES_WATCHER_STACKSIZE</code> – Watcher Task Stack Size.</li><li><code>CONFIG_EXAMPLES_WATCHER_DEVPATH</code> – The path to the Watchdog device used by the Watcher. Default: <code>/dev/watchdog0</code>.</li><li><code>CONFIG_EXAMPLES_WATCHER_TIMEOUT</code> – The watchdog timeout value in milliseconds.</li><li><code>CONFIG_EXAMPLES_WATCHER_SIGNAL</code> – This is the Signal Number used for communication between the watcher task and the watched tasks.</li></ul><p>Specific configuration options for the <code>watched</code> example include:</p><ul><li><code>CONFIG_EXAMPLES_WATCHED_PRIORITY</code> – Watched Task Priority.</li><li><code>CONFIG_EXAMPLES_WATCHED_STACKSIZE</code> – Watched Task Stack Size.</li></ul>',14)]))}const u=t(c,[["render",h]]);export{w as __pageData,u as default};
