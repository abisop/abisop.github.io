import{_ as r,c as n,al as s,j as e,a as l,o}from"./chunks/framework.NFAqBSgQ.js";const i="/assets/sysview.cnp_sP6P.png",N=JSON.parse('{"title":"Segger RTT drivers","description":"","frontmatter":{},"headers":[],"relativePath":"en/components/drivers/special/segger.md","filePath":"en/components/drivers/special/segger.md"}'),a={name:"en/components/drivers/special/segger.md"};function u(c,t,p,d,_,S){return o(),n("div",null,t[0]||(t[0]=[s("",6),e("ol",null,[e("li",null,[e("p",null,"Steps to enable SystemView support:")]),e("li",null,[e("p",null,"Make sure your architecture supports a high-performance counter. In most cases it will be:"),e("p",null,[e("code",{class:"interpreted-text",role:"menuselection"},"CONFIG_ARCH_PERF_EVENTS=y")]),e("p",null,[l("In that case, the the architecture logic must initialize the perf counter with "),e("code",null,"up_perf_init()"),l(".")])]),e("li",null,[e("p",null,"Enable instrumentation support:"),e("p",null,[e("code",null,"CONFIG_SCHED_INSTRUMENTATION=y"),l('{.interpreted-text role="menuselection"}')])]),e("li",null,[e("p",null,"Configure instrumentation support. Available options for SystemView are:"),e("p",null,[e("code",null,"CONFIG_SCHED_INSTRUMENTATION_SWITCH=y"),l('{.interpreted-text role="menuselection"}')]),e("p",null,[e("code",null,"CONFIG_SCHED_INSTRUMENTATION_SYSCALL=y"),l('{.interpreted-text role="menuselection"}')]),e("p",null,[e("code",null,"CONFIG_SCHED_INSTRUMENTATION_IRQHANDLER=y"),l('{.interpreted-text role="menuselection"}')])]),e("li",null,[e("p",null,[l("Make sure that "),e("code",null,"CONFIG_TASK_NAME_SIZE > 0"),l(", otherwise task/thread names will not be displayed correctly")])]),e("li",null,[e("p",null,"Enable Note Driver support and disable Note RAM driver:"),e("p",null,[e("code",{class:"interpreted-text",role:"menuselection"},"CONFIG_DRIVERS_NOTE=y")]),e("p",null,[e("code",{class:"interpreted-text",role:"menuselection"},"CONFIG_DRIVERS_NOTERAM=n")])]),e("li",null,[e("p",null,"Enable Note RTT and Segger SystemView support:"),e("p",null,[e("code",{class:"interpreted-text",role:"menuselection"},"CONFIG_NOTE_RTT=y")]),e("p",null,[e("code",{class:"interpreted-text",role:"menuselection"},"CONFIG_SEGGER_SYSVIEW=y")])]),e("li",null,[e("p",null,"Configure RTT channel and RTT buffer size for SystemView:"),e("p",null,[e("code",null,"CONFIG_SEGGER_SYSVIEW_RTT_CHANNEL=0"),l('{.interpreted-text role="menuselection"}')]),e("p",null,[e("code",null,"CONFIG_SEGGER_SYSVIEW_RTT_BUFFER_SIZE=1024"),l('{.interpreted-text role="menuselection"}')]),e("p",null,[l("In case SystemView returns buffer overflow errors, you should increase "),e("code",null,"CONFIG_NOTE_RTT_BUFFER_SIZE_UP"),l(".")])]),e("li",null,[e("p",null,"Use SystemView for heap tracing:")])],-1),e("p",null,[l("Refer to example configuration at "),e("code",null,"stm32f429i-disco/configs/systemview"),l(". Make sure that "),e("code",null,"CONFIG_SCHED_INSTRUMENTATION_HEAP"),l(" is enabled.")],-1),e("p",null,"Example of screenshot from SystemView:",-1),e("p",null,[e("img",{src:i,alt:"image",class:"align-center",width:"800px"})],-1)]))}const m=r(a,[["render",u]]);export{N as __pageData,m as default};
