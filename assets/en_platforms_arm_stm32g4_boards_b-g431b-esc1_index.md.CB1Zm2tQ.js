import{_ as a,c as r,al as n,o as t}from"./chunks/framework.NFAqBSgQ.js";const u=JSON.parse('{"title":"ST B-G431B-ESC","description":"","frontmatter":{},"headers":[],"relativePath":"en/platforms/arm/stm32g4/boards/b-g431b-esc1/index.md","filePath":"en/platforms/arm/stm32g4/boards/b-g431b-esc1/index.md"}'),s={name:"en/platforms/arm/stm32g4/boards/b-g431b-esc1/index.md"};function o(i,e,P,_,h,c){return t(),r("div",null,e[0]||(e[0]=[n(`<h1 id="st-b-g431b-esc" tabindex="-1">ST B-G431B-ESC <a class="header-anchor" href="#st-b-g431b-esc" aria-label="Permalink to &quot;ST B-G431B-ESC&quot;">​</a></h1><p>chip:stm32, chip:stm32g4, chip:stm32g431</p><p>The B-G431B-ESC board is based on the STM32G431CB microcontroller, the L6387 driver and STL180N6F7 power MOSFETs.</p><h2 id="uart-usart-pins" tabindex="-1">UART/USART PINS <a class="header-anchor" href="#uart-usart-pins" aria-label="Permalink to &quot;UART/USART PINS&quot;">​</a></h2><p>USART2 is accessible through J3 pads and ST LINK Virtual Console:</p><pre><code>USART2_TX - PB3
USART2_RX - PB4
</code></pre><h2 id="configuration-sub-directories" tabindex="-1">Configuration Sub-directories <a class="header-anchor" href="#configuration-sub-directories" aria-label="Permalink to &quot;Configuration Sub-directories&quot;">​</a></h2><h2 id="nsh" tabindex="-1">nsh: <a class="header-anchor" href="#nsh" aria-label="Permalink to &quot;nsh:&quot;">​</a></h2><p>Configures the NuttShell (nsh) located at apps/examples/nsh. The Configuration enables the serial interfaces on USART2.</p><h2 id="foc-f32-and-foc-b16" tabindex="-1">foc_f32 and foc_b16: <a class="header-anchor" href="#foc-f32-and-foc-b16" aria-label="Permalink to &quot;foc\\_f32 and foc\\_b16:&quot;">​</a></h2><p>FOC examples based on hardware on board.</p><p>Pin configuration:</p><blockquote><p>Board Function Chip Function Chip Pin Number</p><hr><p>Phase U high TIM1_CH1 PA8 Phase U low TIM1_CH1N PC13 Phase V high TIM1_CH2 PA9 Phase V low TIM1_CH2N PA12 Phase W high TIM1_CH3 PA10 Phase W low TIM1_CH3N PB15 Current U + OPAMP1_VINP PA1 Current U - OPAMP1_VINM PA3 Current V + OPAMP2_VINP PA7 Current V - OPAMP2_VINM PA5 Current W + OPAMP3_VINP PB0 Current W -Temperature OPAMP3_VINM PB2 PB14 VBUS ADC1_IN1 PA0 POT ADC1_IN11 PB12 LED GPIO_PC6 PC6 ENCO_A/HALL_H1 TIM4_CH1 PB6 ENCO_B/HALL_H2 TIM4_CH2 PB7 ENCO_Z/HALL_H3 TIM4_CH3 PB8 BUTTON PWM GPIO_PC10 PC10 PA15 CAN_RX FDCAN1_RX PA11 CAN_TX CAN_TERM GPIO_BEMF FDCAN1_TX PB9 PC14 PB5 BEMF1 ADC2_IN17 PA4 BEMF2 ADC2_IN5 PC4 BEMF3 ADC2_IN14 PB11</p><p>Current shunt resistance = 0.003 PGA gain = 16 Current sense gain = -9.14 (inverted current) Vbus sense gain = 18k/(18k+169k) = 0.0962 Vbus min = ? Vbus max = 25V Iout max = 40A peak BEMF sense gain = 2.2k/(10k+2.2k) = 0.18</p><p>IPHASE_RATIO = 1/(R_shunt*gain) = -36.47 VBUS_RATIO = 1/VBUS_gain = 10.4</p></blockquote>`,13)]))}const C=a(s,[["render",o]]);export{u as __pageData,C as default};
