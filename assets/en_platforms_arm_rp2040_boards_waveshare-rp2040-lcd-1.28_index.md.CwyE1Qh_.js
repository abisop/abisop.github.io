import{_ as a,c as i,al as o,o as t}from"./chunks/framework.NFAqBSgQ.js";const s="/assets/RP2040-LCD-1.28.DBKZ778P.jpg",b=JSON.parse('{"title":"Waveshare RP2040 LCD 1.28","description":"","frontmatter":{},"headers":[],"relativePath":"en/platforms/arm/rp2040/boards/waveshare-rp2040-lcd-1.28/index.md","filePath":"en/platforms/arm/rp2040/boards/waveshare-rp2040-lcd-1.28/index.md"}'),l={name:"en/platforms/arm/rp2040/boards/waveshare-rp2040-lcd-1.28/index.md"};function n(r,e,p,c,h,d){return t(),i("div",null,e[0]||(e[0]=[o('<h1 id="waveshare-rp2040-lcd-1-28" tabindex="-1">Waveshare RP2040 LCD 1.28 <a class="header-anchor" href="#waveshare-rp2040-lcd-1-28" aria-label="Permalink to &quot;Waveshare RP2040 LCD 1.28&quot;">​</a></h1><p>chip:rp2040</p><p>The <a href="https://www.waveshare.com/wiki/RP2040-LCD-1.28" target="_blank" rel="noreferrer">Waveshare RP2040 LCD 1.28</a> is a low-cost, high-performance MCU board designed by Waveshare based on RP2040 with onboard 1.28 inch LCD.</p><p><img src="'+s+`" alt="" class="align-center"></p><h2 id="features" tabindex="-1">Features <a class="header-anchor" href="#features" aria-label="Permalink to &quot;Features&quot;">​</a></h2><ul><li>RP2040 MCU chip designed by Raspberry Pi in the United Kingdom</li><li>Dual-core Arm Cortex M0+ processor, flexible clock running up to 133 MHz</li><li>264KB of SRAM, and 2MB of onboard Flash memory</li><li>Type-C connector, keeps it up to date, easier to use</li><li>Onboard 1.28-inch 240 x 240 resolution, 65K RGB IPS LCD display for clear color pictures</li><li>Lithium battery recharge/discharge header, suitable for mobile devices</li><li>All GPIOs are adapted through 1.27 pitch female headers (There are 30 pins in total, but some pins have been connected to the internal circuit, you need to pay attention when multiplexing, please refer to the wiki for details)</li><li>USB 1.1 with device and host support</li><li>Low-power sleep and dormant modes</li><li>Drag-and-drop programming using mass storage over USB</li><li>2 x SPI, 2 x I2C, 2 x UART, 2 x UART, 4 x 12-bit ADC, 16 x controllable PWM channels</li><li>Accurate clock and timer on-chip</li><li>Temperature sensor</li><li>Accelerated floating-point libraries on-chip</li><li>8 x Programmable I/O (PIO) state machines for custom peripheral support</li></ul><h2 id="serial-console" tabindex="-1">Serial Console <a class="header-anchor" href="#serial-console" aria-label="Permalink to &quot;Serial Console&quot;">​</a></h2><p>By default a serial console appears on pins 1 (TX GPIO0) and pin 2 (RX GPIO1). This console runs a 115200-8N1.</p><p>The board can be configured to use the USB connection as the serial console.</p><h2 id="buttons-and-leds" tabindex="-1">Buttons and LEDs <a class="header-anchor" href="#buttons-and-leds" aria-label="Permalink to &quot;Buttons and LEDs&quot;">​</a></h2><p>No user LED is provided.</p><p>A BOOT button, which if held down when pressing RESET or power is first applied to the board, will cause the RP2040 to boot into programming mode and appear as a storage device to a computer connected via USB. Saving a .UF2 file to this device will replace the Flash ROM contents on the RP2040.</p><h2 id="pin-mapping" tabindex="-1">Pin Mapping <a class="header-anchor" href="#pin-mapping" aria-label="Permalink to &quot;Pin Mapping&quot;">​</a></h2><p>Pad Signal Notes</p><hr><p>2 GPIO0 Default TX for UART0 serial console 4 GPIO1 Default RX for UART0 serial console</p><h2 id="power-supply" tabindex="-1">Power Supply <a class="header-anchor" href="#power-supply" aria-label="Permalink to &quot;Power Supply&quot;">​</a></h2><p>The Raspberry Pi Pico can be powered via the USB connector, connecting a lithium battery through connector, or by supplying +5V to pin 18(VSYS). The board had a diode that prevents power from pin 18 from flowing back to the USB socket. Power through USB or VSYS will be charging the battery if connected. The schematic is available at <a href="https://www.waveshare.net/w/upload/6/60/RP2040-LCD-1.28-sch.pdf" target="_blank" rel="noreferrer">RP2040-LCD-1.28-sch.pdf</a></p><h2 id="supported-capabilities" tabindex="-1">Supported Capabilities <a class="header-anchor" href="#supported-capabilities" aria-label="Permalink to &quot;Supported Capabilities&quot;">​</a></h2><p>NuttX supports the following RP2040 capabilities:</p><ul><li>UART (console port) <ul><li>GPIO 0 (UART0 TX) and GPIO 1 (UART0 RX) are used for the console.</li></ul></li><li>I2C</li><li>SPI (master only)</li><li>DMAC</li><li>PWM</li><li>ADC</li><li>Watchdog</li><li>USB device <ul><li>MSC, CDC/ACM serial and these composite device are supported.</li><li>CDC/ACM serial device can be used for the console.</li></ul></li><li>PIO (RP2040 Programmable I/O)</li><li>Flash ROM Boot</li><li>SRAM Boot <ul><li>If Pico SDK is available, nuttx.uf2 file which can be used in BOOTSEL mode will be created.</li></ul></li><li>Persistent flash filesystem in unused flash ROM</li><li>WiFi wireless communication</li></ul><p>There is currently no direct user mode access to these RP2040 hardware features:</p><ul><li>SPI Slave Mode</li><li>SSI</li><li>RTC</li><li>Timers</li></ul><p>NuttX also provide support for these external devices:</p><ul><li>BMP180 sensor at I2C0 (don&#39;t forget to define I2C0 GPIOs at &quot;I2C0 GPIO pin assign&quot; in Board Selection menu)</li><li>INA219 sensor / module (don&#39;t forget to define I2C0 GPIOs at &quot;I2C0 GPIO pin assign&quot; in Board Selection menu)</li><li>SHT4X sensor at I2C0</li><li>WS2812 smart pixel support</li></ul><h2 id="installation" tabindex="-1">Installation <a class="header-anchor" href="#installation" aria-label="Permalink to &quot;Installation&quot;">​</a></h2><ol><li>Download Raspberry Pi Pico SDK</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span> git clone -b 2.0.0 https://github.com/raspberrypi/pico-sdk.git</span></span></code></pre></div><ol start="2"><li>Download and install picotool</li></ol><blockquote><p>Instructions can be found here: <a href="https://github.com/raspberrypi/picotool" target="_blank" rel="noreferrer">https://github.com/raspberrypi/picotool</a></p><p>If you are on Arch Linux, you can install the picotool through the AUR:</p></blockquote><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span> yay -S picotool</span></span></code></pre></div><ol start="3"><li>Set PICO_SDK_PATH environment variable</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span> export PICO_SDK_PATH=&lt;absolute_path_to_pico-sdk_directory&gt;</span></span></code></pre></div><ol start="4"><li>Configure and build NuttX</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span> git clone https://github.com/apache/nuttx.git nuttx</span></span>
<span class="line"><span> git clone https://github.com/apache/nuttx-apps.git apps</span></span>
<span class="line"><span> cd nuttx</span></span>
<span class="line"><span> make distclean</span></span>
<span class="line"><span> ./tools/configure.sh waveshare-rp2040-lcd-1.28:nsh</span></span>
<span class="line"><span> make V=1</span></span></code></pre></div><ol start="5"><li><p>Connect the Waveshare RP2040 board to USB port while pressing BOOT. The board will be detected as USB Mass Storage Device. Then copy &quot;nuttx.uf2&quot; into the device. (Same manner as the standard Pico SDK applications installation.)</p></li><li><p>To access the console, GPIO 0 and 1 pins must be connected to the device such as USB-serial converter.</p><p>[usbnsh]{.title-ref} configuration provides the console access by USB CDC/ACM serial decive. The console is available by using a terminal software on the USB host.</p></li></ol><h2 id="configurations" tabindex="-1">Configurations <a class="header-anchor" href="#configurations" aria-label="Permalink to &quot;Configurations&quot;">​</a></h2><h3 id="composite" tabindex="-1">composite <a class="header-anchor" href="#composite" aria-label="Permalink to &quot;composite&quot;">​</a></h3><p>NuttShell configuration (console enabled in UART0, at 115200 bps) with support for CDC/ACM with MSC USB composite driver. <code>conn</code> command enables the composite device.</p><h3 id="nsh" tabindex="-1">nsh <a class="header-anchor" href="#nsh" aria-label="Permalink to &quot;nsh&quot;">​</a></h3><p>Basic NuttShell configuration (console enabled in UART0, at 115200 bps).</p><h3 id="nsh-flash" tabindex="-1">nsh-flash <a class="header-anchor" href="#nsh-flash" aria-label="Permalink to &quot;nsh-flash&quot;">​</a></h3><p>Basic NuttShell configuration (console enabled in UART0, at 115200 bps with SMART flash filesystem.</p><h3 id="nshsram" tabindex="-1">nshsram <a class="header-anchor" href="#nshsram" aria-label="Permalink to &quot;nshsram&quot;">​</a></h3><p>NuttShell configuration (console enabled in UART0, at 115200 bps) with interrupt vectors in RAM.</p><h3 id="smp" tabindex="-1">smp <a class="header-anchor" href="#smp" aria-label="Permalink to &quot;smp&quot;">​</a></h3><p>Basic NuttShell configuration (console enabled in UART0, at 115200 bps) with both ARM cores enabled.</p><h3 id="spisd" tabindex="-1">spisd <a class="header-anchor" href="#spisd" aria-label="Permalink to &quot;spisd&quot;">​</a></h3><p>NuttShell configuration (console enabled in UART0, at 115200 bps) with SPI SD card support enabled.</p><p>SD card slot Waveshare RP2040</p><hr><p>DAT2 Not connected DAT3/CS GP17 (SPI0 CSn) (Pin 22) CMD /DI GP19 (SPI0 TX) (Pin 25) VDD 3V3 OUT (Pin 36) CLK/SCK GP18 (SPI0 SCK) (Pin 24) VSS GND (Pin 3 or 38 or ...) DAT0/DO GP16 (SPI0 RX) (Pin 21) DAT1 Not connected</p><p>: spisd connections</p><p>Card hot swapping is not supported.</p><h3 id="usbmsc" tabindex="-1">usbmsc <a class="header-anchor" href="#usbmsc" aria-label="Permalink to &quot;usbmsc&quot;">​</a></h3><p>NuttShell configuration (console enabled in UART0, at 115200 bps) with support for USB MSC and CDC/ACM.</p><p><code>msconn</code> and <code>sercon</code> commands enable the MSC and CDC/ACM devices. The MSC support provides the interface to the SD card with SPI, so the SD card slot connection like spisd configuration is required.</p><h3 id="usbnsh" tabindex="-1">usbnsh <a class="header-anchor" href="#usbnsh" aria-label="Permalink to &quot;usbnsh&quot;">​</a></h3><p>Basic NuttShell configuration using CDC/ACM serial (console enabled in USB Port, at 115200 bps).</p><h3 id="fb" tabindex="-1">fb <a class="header-anchor" href="#fb" aria-label="Permalink to &quot;fb&quot;">​</a></h3><p>NuttShell configuration (console enabled in USB Port, at 115200 bps) with support for gc9a01 and video framebuffer example.</p><h3 id="lvgl" tabindex="-1">lvgl <a class="header-anchor" href="#lvgl" aria-label="Permalink to &quot;lvgl&quot;">​</a></h3><p>NuttShell configuration (console enabled in USB Port, at 115200 bps) with support for gc9a01 and LVGL demo (using lcd_dev).</p><h2 id="license-exceptions" tabindex="-1">License exceptions <a class="header-anchor" href="#license-exceptions" aria-label="Permalink to &quot;License exceptions&quot;">​</a></h2><p>The following files are originated from the files in Pico SDK. So, the files are licensed under 3-Clause BSD same as Pico SDK.</p><ul><li>arch/arm/src/rp2040/rp2040_clock.c</li><li>arch/arm/src/rp2040/rp2040_pll.c</li><li>arch/arm/src/rp2040/rp2040_xosc.c <ul><li>These are created by referring the Pico SDK clock initialization.</li></ul></li><li>arch/arm/src/rp2040/rp2040_pio.c</li><li>arch/arm/src/rp2040/rp2040_pio.h</li><li>arch/arm/src/rp2040/rp2040_pio_instructions.h <ul><li>These provide the similar APIs to Pico SDK&#39;s hardware_pio APIs.</li></ul></li><li>arch/arm/src/rp2040/hardware/*.h <ul><li>These are generated from rp2040.svd originally provided in Pico SDK.</li></ul></li></ul>`,66)]))}const m=a(l,[["render",n]]);export{b as __pageData,m as default};
