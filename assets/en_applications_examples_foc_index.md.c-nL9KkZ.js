import{_ as o,c as a,al as r,o as t}from"./chunks/framework.NFAqBSgQ.js";const h=JSON.parse('{"title":"foc FOC motor controller example","description":"","frontmatter":{},"headers":[],"relativePath":"en/applications/examples/foc/index.md","filePath":"en/applications/examples/foc/index.md"}'),i={name:"en/applications/examples/foc/index.md"};function p(l,e,n,c,m,s){return t(),a("div",null,e[0]||(e[0]=[r(`<h1 id="foc-foc-motor-controller-example" tabindex="-1"><code>foc</code> FOC motor controller example <a class="header-anchor" href="#foc-foc-motor-controller-example" aria-label="Permalink to &quot;\`foc\` FOC motor controller example&quot;">​</a></h1><p>The main purpose of this example is to provide a universal template to implement the motor controller based on the kernel-side FOC device and the application-side FOC library.</p><p>At the moment, this example implements a simple open-loop velocity controller.</p><h2 id="hardware-setup" tabindex="-1">Hardware setup <a class="header-anchor" href="#hardware-setup" aria-label="Permalink to &quot;Hardware setup&quot;">​</a></h2><p>This example has not yet implemented any mechanism to protect the powered device. This means that there is no overtemeprature protection, no overcurrent protection and no overvoltage protection.</p><p>Make sure that you power the device properly and provide current limits on your own so as not to break your hardware.</p><h2 id="configuration" tabindex="-1">Configuration <a class="header-anchor" href="#configuration" aria-label="Permalink to &quot;Configuration&quot;">​</a></h2><p>The FOC PI current controller parameters can be obtained from the given equations:</p><pre><code>Kp = ccb * Ls;
pp = Rs / Ls;
Ki = pp * Kp * T;
</code></pre><p>where:</p><p>: - Kp - PI proportional coefficient - Ki - PI integral coefficient - Rs - average phase serial resistance - Ls - average phase serial inductance - pp - pole plant - ccb - current control bandwidth - T - sampling period</p><h2 id="sample-parameters-for-some-commercially-available-motors" tabindex="-1">Sample parameters for some commercially available motors <a class="header-anchor" href="#sample-parameters-for-some-commercially-available-motors" aria-label="Permalink to &quot;Sample parameters for some commercially available motors&quot;">​</a></h2><p>Motor model p Rs Ls i_max v_max</p><hr><p>Odrive D6374 150KV 7 0.0254 Ohm 8.73 uH ? ? Linix 45ZWN24-40 2 0.5 Ohm 0.400 mH 2.34A 24V Bull-Running BR2804-1700 7 0.11 Ohm 0.018 mH 1.2A 12V iPower GBM2804H-100T 7 5.29 Ohm 1.05 mH 0.15A 12V</p><ul><li>Odrive D6374 150KV</li></ul><p>f_PWM f_notifier ccb Kp Ki</p><hr><p>20kHz 10kHz 1000 0.0087 0.0025</p><ul><li>Linix 45ZWN24-40 (PMSM motor dedicated for NXP FRDM-MC-LVMTR kit)</li></ul><p>f_PWM f_notifier ccb Kp Ki</p><hr><p>10kHz 5kHz 1000 0.4 0.1</p><ul><li>Bull-Running BR2804-1700 kV (motor provided with the ST P-NUCLEO-IHM07 kit)</li></ul><p>f_PWM f_notifier ccb Kp Ki</p><hr><p>20kHz 10kHz 200 0.036 0.022</p><ul><li>iPower GBM2804H-100T (gimbal motor provided with the ST P-NUCLEO-IHM03 kit)</li></ul><p>f_PWM f_notifier ccb Kp Ki</p><hr><p>20kHz 10kHz TODO TODO TODO</p>`,31)]))}const f=o(i,[["render",p]]);export{h as __pageData,f as default};
