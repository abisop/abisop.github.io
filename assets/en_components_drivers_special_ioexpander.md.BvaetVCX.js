import{_ as o,c as i,al as r,o as d}from"./chunks/framework.NFAqBSgQ.js";const x=JSON.parse('{"title":"IO Expander Device Drivers","description":"","frontmatter":{},"headers":[],"relativePath":"en/components/drivers/special/ioexpander.md","filePath":"en/components/drivers/special/ioexpander.md"}'),a={name:"en/components/drivers/special/ioexpander.md"};function n(t,e,s,c,l,p){return d(),i("div",null,e[0]||(e[0]=[r('<h1 id="io-expander-device-drivers" tabindex="-1">IO Expander Device Drivers <a class="header-anchor" href="#io-expander-device-drivers" aria-label="Permalink to &quot;IO Expander Device Drivers&quot;">â€‹</a></h1><ul><li><code>include/nuttx/ioexpander/ioexpander.h</code> and <code>include/nuttx/ioexpander/gpio.h</code>. All structures and APIs needed to work with ioexpander drivers are provided in this header file.</li><li><code>struct ioexpander_ops_s</code>. Each ioexpand device driver must implement an instance of <code>struct ioexpander_ops_s</code>. That structure defines a call table with the methods, and we also provide macros to help access methods.</li><li>we also provide method <code>gpio_lower_half</code> to make ioexpander compatible with normal gpio.</li><li><strong>Binding ioexpander Drivers</strong>. ioexpander drivers are not normally directly accessed by user code, we should always get lower level drivers, for example I2C, and map extended gpio feature same asa normal gpio. See for example, <code>int nrf52_sx1509_initialize(void)</code> in <code>boards/arm/nrf52/thingy52/src/nrf52_sx1509.c</code>. In general, the binding sequence is: <ol><li>Get an instance of <code>struct i2c_master_s</code> from the hardware-specific I2C device driver, and</li><li>Provide that instance and configurations to the ioexpander initialization method to get the <code>struct ioexpander_dev_s</code> ioe device instance.</li><li>Then use ioe device instance to do ioexpander operations, or use <code>gpio_lower_half</code> to make ioexpand compatible with normal gpio.</li></ol></li><li><strong>Examples</strong>: <code>drivers/ioexpander/pca9555.c</code>, <code>drivers/input/aw86225.c</code>, <code>drivers/analog/lmp92001.c</code>, <code>drivers/ioexpander/ioe_rpmsg.c</code>, <code>boards/sim/sim/sim/src/sim_ioexpander.c</code>, <code>boards/arm/nrf52/thingy52/src/nrf52_sx1509.c</code> etc.</li></ul>',2)]))}const _=o(a,[["render",n]]);export{x as __pageData,_ as default};
