import{_ as e,c as i,al as r,o as a}from"./chunks/framework.NFAqBSgQ.js";const p=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"en/platforms/risc-v/fe310/boards/hifive1-revb/README-qemu.md","filePath":"en/platforms/risc-v/fe310/boards/hifive1-revb/README-qemu.md"}'),o={name:"en/platforms/risc-v/fe310/boards/hifive1-revb/README-qemu.md"};function n(s,t,l,c,u,_){return a(),i("div",null,t[0]||(t[0]=[r('<ol><li>Download and install toolchain</li></ol><p>$ curl <a href="https://static.dev.sifive.com/dev-tools/riscv64-unknown-elf-gcc-8.3.0-2019.08.0-x86%5C_64-linux-ubuntu14.tar.gz" target="_blank" rel="noreferrer">https://static.dev.sifive.com/dev-tools/riscv64-unknown-elf-gcc-8.3.0-2019.08.0-x86\\_64-linux-ubuntu14.tar.gz</a></p><ol start="2"><li>Build and install qemu</li></ol><p>$ git clone <a href="https://github.com/qemu/qemu" target="_blank" rel="noreferrer">https://github.com/qemu/qemu</a> $ cd qemu $ ./configure --target-list=riscv32-softmmu $ make $ sudo make install</p><ol start="3"><li>Modify defconfig</li></ol><p>index c449421741..5a76600785 100644 --- a/boards/risc-v/fe310/hifive1-revb/configs/nsh/defconfig +++ b/boards/risc-v/fe310/hifive1-revb/configs/nsh/defconfig @@ -14,7 +14,7 @@ CONFIG_ARCH_BOARD=&quot;hifive1-revb&quot; CONFIG_ARCH_BOARD_HIFIVE1_REVB=y CONFIG_ARCH_CHIP=&quot;fe310&quot; CONFIG_ARCH_CHIP_FE310=y -CONFIG_ARCH_CHIP_FE310_G002=y +CONFIG_ARCH_CHIP_FE310_QEMU=y CONFIG_ARCH_INTERRUPTSTACK=1536 CONFIG_ARCH_RISCV=y CONFIG_ARCH_STACKDUMP=y</p><ol start="4"><li>Configure and build NuttX</li></ol><p>$ mkdir ./nuttx; cd ./nuttx $ git clone <a href="https://github.com/apache/nuttx.git" target="_blank" rel="noreferrer">https://github.com/apache/nuttx.git</a> nuttx $ git clone <a href="https://github.com/apache/nuttx-apps.git" target="_blank" rel="noreferrer">https://github.com/apache/nuttx-apps.git</a> apps $ cd nuttx $ make distclean $ ./tools/configure.sh hifive1-revb:nsh $ make V=1</p><ol start="5"><li>Run the nuttx with qemu</li></ol><p>$ qemu-system-riscv32 -nographic -machine sifive_e -kernel ./nuttx</p><ol start="6"><li>TODO</li></ol><p>Support RISC-V User mode</p>',12)]))}const m=e(o,[["render",n]]);export{p as __pageData,m as default};
